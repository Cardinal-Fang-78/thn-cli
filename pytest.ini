[pytest]
minversion = 7.0

# ------------------------------------------------------------------
# Core pytest configuration
# ------------------------------------------------------------------
# NOTE:
#   temp_test is an ephemeral pytest-owned directory; deletion is expected.
#   pytest will recreate it as needed via --basetemp.
addopts =
    -ra
    --basetemp=C:\THN\core\cli\temp_test

testpaths = tests
python_files = test_*.py
python_functions = test_*

filterwarnings =
    ignore::DeprecationWarning

# ------------------------------------------------------------------
# Marker registration
# ------------------------------------------------------------------
# no_capture:
#   Disable pytest stdout/stderr capture for tests that invoke
#   subprocesses on Windows. Required to prevent deadlocks when
#   Python subprocess pipes + pytest capture interact.
# ------------------------------------------------------------------
markers =
    no_capture: Disable pytest capture for Windows subprocess safety
